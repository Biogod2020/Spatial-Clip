# configs/train.yaml

# CodeGuardian: 这是项目的“总配方”。它定义了一个完整实验所需的所有组件的默认来源。
# _self_ 必须放在第一位，这是 Hydra 的最佳实践。
defaults:
  - _self_
  - data: spatial          # 默认使用 spatial 数据
  - model: spatial_clip    # 默认使用 spatial_clip 模型
  - loss: spatial          # 默认使用 spatial loss 函数
  - optimizer: adamw       # 默认使用 adamw 优化器
  - scheduler: cosine      # 默认使用 cosine 调度器
  - callbacks: default     # 默认使用 default 回调
  - logger: aim            # 默认使用 aim 日志记录器
  - trainer: default       # 默认使用 default 训练器配置
  - paths: default
  - extras: default
  - hydra: default

  # --- 可选的覆盖组 ---
  # 实验配置将覆盖上述默认值。`null` 是一个占位符，可以通过命令行填充。
  - experiment: null
  
  # 用于超参数搜索
  - hparams_search: null
  
  # 用于本地机器特定设置（此文件不在版本控制中）
  - optional local: default
  
  # 用于调试
  - debug: null

# --- 全局参数 ---
task_name: "train"
tags: ["dev"]
name: "default_run"  # 默认的运行名称

train: True
test: True  # 在训练后运行测试

ckpt_path: null

seed: 42

optimized_metric: "val/loss" # 用于超参数搜索的目标指标