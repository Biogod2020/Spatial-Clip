# configs/model/spatial_clip.yaml

# CodeGuardian: CLEANED. No more internal 'defaults' list.
# The model config now only defines the model-specific components.
_target_: src.models.spatial_clip_module.SpatialClipLitModule

# --- Components (THE "WHAT" and "WITH") ---
net:
  _target_: src.models.components.spatial_clip_net.SpatialClipNet
  model_name: ViT-B-32
  pretrained: laion2b_s34b_b79k
  aug_cfg:
    _target_: open_clip.AugmentationCfg
    scale: [0.9, 1.0]
    ratio: [0.75, 1.333]
    use_timm: true
    color_jitter: 0.2

# CodeGuardian: CORRECTED. This now references the top-level `loss` config group.
# Hydra will instantiate the object defined in `configs/loss/*.yaml` and pass it
# to the 'loss_fn' argument of the LightningModule.
loss_fn: ${loss}

# --- Metrics ---
train_metrics:
  _target_: src.models.components.metrics.ContrastiveMetrics
  prefix: "train/"

val_metrics:
  _target_: src.models.components.metrics.ContrastiveMetrics
  prefix: "val/"

test_metrics:
  _target_: src.models.components.metrics.ContrastiveMetrics
  prefix: "test/"

# --- Hyperparameters (THE "HOW") ---
optimizer_cfg: ${optimizer}
scheduler_cfg: ${scheduler}